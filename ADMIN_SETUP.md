# ๐ ุฅุนุฏุงุฏ ุญุณุงุจ ุงููุฏูุฑ (Admin Account Setup)

## ุงูุทุฑููุฉ ุงูุฃููู: ุฅูุดุงุก ุญุณุงุจ ูุฏูุฑ ูู Supabase Dashboard (ููุตู ุจู)

### ุงูุฎุทูุงุช:

1. **ุงูุชุญ Supabase Dashboard**
   - ุงุฐูุจ ุฅูู ูุดุฑูุนู ูู [Supabase Dashboard](https://app.supabase.com)
   - ุงูุชูู ุฅูู **Authentication** โ **Users**

2. **ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ**
   - ุงุถุบุท ุนูู **"Add user"** ุฃู **"Create new user"**
   - ุฃุฏุฎู:
     - **Email**: `admin@kirkuk-health.gov.iq` (ุฃู ุฃู ุจุฑูุฏ ุฅููุชุฑููู ุชุฑูุฏู)
     - **Password**: ุงุฎุชุฑ ูููุฉ ูุฑูุฑ ูููุฉ
   - ุงุถุบุท **"Create user"**

3. **ุชุญุฏูุซ Profile ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
   - ุงุฐูุจ ุฅูู **SQL Editor** ูู Supabase
   - ููุฐ ุงูุงุณุชุนูุงู ุงูุชุงูู (ุงุณุชุจุฏู `admin@kirkuk-health.gov.iq` ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงูุฐู ุงุณุชุฎุฏูุชู):

```sql
-- ุงูุญุตูู ุนูู ID ุงููุณุชุฎุฏู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
UPDATE profiles
SET 
  role = 'admin',
  is_approved = true,
  full_name = 'ูุฏูุฑ ุงููุธุงู',
  health_center_name = 'ุฅุฏุงุฑุฉ ุงููุทุงุน ุงูุตุญู'
WHERE email = 'admin@kirkuk-health.gov.iq';
```

4. **ุงูุชุญูู ูู ุงูุญุณุงุจ**
   - ุชุฃูุฏ ูู ุฃู ุงูุชุญุฏูุซ ูุฌุญ:
```sql
SELECT id, email, full_name, role, is_approved 
FROM profiles 
WHERE email = 'admin@kirkuk-health.gov.iq';
```

---

## ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุฅูุดุงุก ุญุณุงุจ ุนุงุฏู ุซู ุชุฑููุชู

### ุงูุฎุทูุงุช:

1. **ุณุฌู ุญุณุงุจ ุฌุฏูุฏ ูู ุงููููุน**
   - ุงุฐูุจ ุฅูู ุตูุญุฉ `/signup`
   - ุณุฌู ุญุณุงุจ ุฌุฏูุฏ ุจุฃู ุจูุงูุงุช

2. **ุชุฑููุฉ ุงูุญุณุงุจ ุฅูู ูุฏูุฑ**
   - ุงูุชุญ Supabase Dashboard
   - ุงุฐูุจ ุฅูู **SQL Editor**
   - ููุฐ ุงูุงุณุชุนูุงู (ุงุณุชุจุฏู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู):

```sql
UPDATE profiles
SET 
  role = 'admin',
  is_approved = true
WHERE email = 'your-email@example.com';
```

---

## ๐ ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ (ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ)

ุฅุฐุง ููุช ุชุฑูุฏ ุฅูุดุงุก ุญุณุงุจ ูุฏูุฑ ุฌุฏูุฏุ ุงุณุชุฎุฏู:

**ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: `admin@kirkuk-health.gov.iq`  
**ูููุฉ ุงููุฑูุฑ**: (ุงุฎุชุฑ ูููุฉ ูุฑูุฑ ูููุฉ)

**ููุงุญุธุฉ**: ูุง ุชูุฌุฏ ูููุฉ ูุฑูุฑ ุงูุชุฑุงุถูุฉ. ูุฌุจ ุนููู ุฅูุดุงุก ุงูุญุณุงุจ ูุฏููุงู.

---

## โ ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุฏูุฑ

ุจุนุฏ ุฅูุดุงุก ุงูุญุณุงุจุ ูุฌุจ ุฃู ูููู ูุงุฏุฑุงู ุนูู:

- โ ุงููุตูู ุฅูู `/sector-dashboard` (ููุญุฉ ุงููุทุงุน)
- โ ุงููุตูู ุฅูู `/admin/approvals` (ุงูููุงููุงุช)
- โ ุงููุตูู ุฅูู `/admin/audit-log` (ุณุฌู ุงูุชุฏููู)
- โ ุงููุตูู ุฅูู `/admin/reports` (ุงูุชูุงุฑูุฑ)
- โ ุงูููุงููุฉ ุนูู ุงูุชูุงุฑูุฑ ุงููุนููุฉ
- โ ุฑูุถ ุงูุชูุงุฑูุฑ ูุน ุฅุถุงูุฉ ุณุจุจ

---

## ๐ ุงูุฃูุงู

**ููู ุฌุฏุงู:**
- ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ (12+ ุญุฑูุ ุฃุฑูุงูุ ุฑููุฒ)
- ูุง ุชุดุงุฑู ุจูุงูุงุช ุงูุฏุฎูู ูุน ุฃู ุดุฎุต
- ูู ุจุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุจุงูุชุธุงู
- ุงุณุชุฎุฏู ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ (2FA) ุฅุฐุง ูุงู ูุชุงุญุงู ูู Supabase

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ูููู ุชุณุฌูู ุงูุฏุฎูู
- ุชุฃูุฏ ูู ุฃู `is_approved = true` ูู ุฌุฏูู `profiles`
- ุชุฃูุฏ ูู ุฃู `role = 'admin'` ูู ุฌุฏูู `profiles`

### ุงููุดููุฉ: ูุง ูููู ุงููุตูู ูุตูุญุงุช ุงููุฏูุฑ
- ุชุญูู ูู ุฃู `role = 'admin'` ูู ุงูู profile
- ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู

### ุงููุดููุฉ: ุงูุญุณุงุจ ุบูุฑ ููุฌูุฏ ูู profiles
- ูุฏ ูููู ุงูู trigger ูู ูุนูู. ุฃูุดุฆ ุงูู profile ูุฏููุงู:

```sql
INSERT INTO profiles (id, email, full_name, health_center_name, role, is_approved)
SELECT 
  id,
  email,
  'ูุฏูุฑ ุงููุธุงู',
  'ุฅุฏุงุฑุฉ ุงููุทุงุน ุงูุตุญู',
  'admin',
  true
FROM auth.users
WHERE email = 'admin@kirkuk-health.gov.iq'
ON CONFLICT (id) DO UPDATE
SET role = 'admin', is_approved = true;
```

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงููุ ุชุญูู ูู:
1. ุณุฌู ุงูุฃุฎุทุงุก ูู Supabase Dashboard
2. ุณุฌู ุงูุชุฏููู ูู `/admin/audit-log` (ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู)
3. Console ุงููุชุตูุญ ููุฃุฎุทุงุก

